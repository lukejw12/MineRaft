execute positioned ~ ~-1 ~ run function mineraft:structures/walls/check_integrity
execute unless block ~ ~-1 ~ barrier positioned ~ ~-1 ~ run function mineraft:structures/walls/destroy